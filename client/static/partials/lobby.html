<div id=lobbyDiv class="container lobby" ng-controller="LobbyController">

    <!-- Whiteboard canvases -->
    <canvas id='drawBoard' />
    <canvas id='tmp_canvas' oncontextmenu="return false"/>

    <!-- Menu hamburger -->
    <i id=menuHam class="fa fa-2x fa-bars" aria-hidden="true"/>

    <!-- Tutorial pop-ups -->
    <div id="scrollPop">Hold Shift or right-click, then drag to extend canvas <i class="fa fa-arrows-alt" aria-hidden="true"></i></div>

    <!-- Notifications -->
    <div id=notifDiv><span id=notifSpan><span></div>

    <!--- Coding/text areas --->
    <div id="textDiv" hidden=true>
        <input id='textInput' type="text" placeholder='Enter text...' autocomplete='off' spellcheck='false' autocorrect='off'>
    </div>
    <div id="codeDiv" hidden=true>
        <textarea id='codeInput' placeholder='Enter code...' autocomplete='off' spellcheck='false' autocorrect='off'></textarea>
    </div>

    <!-- Sidebar -->
    <div id="sidebar" style='padding-left: 15px;' class="container-fluid">
        <div id="sideBorder"></div>
        <h1 ng-if="!currentLobby">Offline</h1>
        <h1 ng-bind="currentLobby"></h1>
        <div class="row menu_tabs_row">
            <div ng-hide="menu_tab==0" ng-click="menu_tab=0" class="menu_tabs col-sm-4"><i class="fa fa-cog" aria-hidden="true"></i></div>
            <div ng-if="menu_tab==0" class="col-sm-4 selected_menu_tab"><i class="fa fa-cog" aria-hidden="true"></i></div>

            <div ng-hide="menu_tab==1" ng-click="menu_tab=1" class="menu_tabs col-sm-4"><i class="fa fa-comment-o" aria-hidden="true"></i></div>
            <div ng-if="menu_tab==1" class="col-sm-4 selected_menu_tab"><i class="fa fa-comment-o" aria-hidden="true"></i></div>

            <div ng-hide="menu_tab==2" ng-click="menu_tab=2" class="menu_tabs col-sm-4"><i class="fa fa-code" aria-hidden="true"></i></div>
            <div ng-if="menu_tab==2" class="col-sm-4 selected_menu_tab"><i class="fa fa-code" aria-hidden="true"></i></div>
        </div>
        <div ng-show="menu_tab==0">
            <div class="row">
                <h4 class="col-sm-12">Menu</h4>
            </div>
            <hr>
            <div class="row">
                <div class="col-md-12">
                    <button ng-hide="menu_create_active==1" class="menu_buttons" ng-click="menu_active(1)">Create a Lobby</button>
                    <input id="menu_create_send" type="text" ng-show="menu_create_active==1" class="menu_inputs" ng-keydown="menu_create_send($event)" ng-model="lobby_name" placeholder="Lobby: (Enter: Go, Shift+Esc: Cancel)">
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <button ng-hide="menu_join_active==1" class="menu_buttons" ng-click="menu_active(2)">Join a Lobby</button>
                    <input id="menu_join_send" type="text" ng-show="menu_join_active==1" class="menu_inputs" ng-keydown="menu_join_send($event)" ng-model="join_lobby" placeholder="Lobby: (Enter: Go, Shift+Esc: Cancel)">
                </div>
            </div>
        </div>
        <div ng-show="menu_tab==1">
            <div class="row">
                <h4 class="col-sm-9">Chat</h4>
                <h4 ng-if="chat_name" class="col-sm-3 chat_people">
                    <span class="chat_people_text">
                        <div class="row" ng-repeat="(key, val) in users">{{val.name}}</div>
                    </span>
                    <i class="fa fa-users" aria-hidden="true"></i>
                </h4>
            </div>
            <hr>
            <div ng-show="currentLobby">
                <div ng-hide="chat_name">
                    <h5>Please enter a name</h5>
                    <input type="text" placeholder="name" ng-model="enter_chat_name">
                    <input type="submit" class="btn-lrg" ng-click="enterChat()">
                </div>
                <div ng-show="chat_name">
                    <div class="row" style="padding: 0 2em 1em;">
                        <div class="col-sm-12 chat_messages">
                            <div class="row" ng-repeat="message in messages">
                                <div class="col-sm-4" ng-bind="message.name"></div>
                                <div class="col-sm-8" ng-bind="message.message"></div>
                            </div>
                        </div>
                    </div>
                    <div class="row chat_send_row" >
                        <form ng-submit="chat_send_message()">
                            <div class="chat_input col-sm-9"><textarea ng-model="chat_message"></textarea></div>
                            <div class="chat_send col-sm-3"><input class="btn btn-primary btn-sm" type="submit" value="Send"></div>
                        </form>
                    </div>
                </div>
            </div>
            <div ng-show="!currentLobby">Please go into online mode to use chat.</div>
        </div>
        <div ng-show="menu_tab==2">
            <div id="editor"></div>
        </div>
    </div>


    <!-- Canvas toolbar -->
    <div id=canvToolbar>
        <div id="toolLobby">
            <h4 style='text-decoration: underline;'>Lobby</h4>
            <h6>{{ currentLobby || 'Offline' }}</h6>
        </div>
        <div id="toolBtns">
            <div class="toolRow">
                <div class="toolBtn" name=brush ng-click=changeInput('brush')>
                    <i class="fa fa-paint-brush" aria-hidden="true"></i>
                </div>
                <div class="toolBtn" ng-click=changeInput('eraser')>
                    <i class="fa fa-eraser" aria-hidden="true"></i>
                </div>
            </div>
            <div class="toolRow">
                <div class="toolBtn" ng-click=changeInput('text')>
                    <i class="fa fa-font" aria-hidden="true"></i>
                </div>
                <div class="toolBtn" ng-click=changeInput('code')>
                    <i class="fa fa-code" aria-hidden="true"></i>
                </div>
            </div>
            <hr id=toolSep>
            <div class="toolRow">
                <div class="toolBtn" name=brush ng-click=changeInput('rectF')>
                    <i class="fa fa-square" aria-hidden="true"></i>
                </div>
                <div class="toolBtn" ng-click=changeInput('rectH')>
                    <i class="fa fa-square-o" aria-hidden="true"></i>
                </div>
            </div>
            <div class="toolRow">
                <div class="toolBtn" ng-click=changeInput('circF')>
                    <i class="fa fa-circle" aria-hidden="true"></i>
                </div>
                <div class="toolBtn" ng-click=changeInput('circH')>
                    <i class="fa fa-circle-o" aria-hidden="true"></i>
                </div>
            </div>
        </div>
        <hr id=toolSep>
        <div id="toolColor">
            <div id="toolColorBox" ng-click=toggleColor(showColor)/>
            <input type="text" id=color ng-model=strokeStyle />
            <div id="pickerDiv" hidden>
                <div id="colorPicker"></div>
            </div>
        </div>
        <div id="toolSize">
            <span class=toolSizeLabel>Brush Size</span>
            <input class=toolSizeBox id=toolSizeBoxValue type="text" ng-model=lineWidth />
            <input class=toolSizeSlide id=toolSizeSlideValue type="range" min=1 max=20 ng-model=lineWidth />
        </div>
        <div id="textSize" hidden>
            <span class=toolSizeLabel>Text Size</span>
            <input class=toolSizeBox id=textSizeBoxValue type="text" ng-model=textSize />
            <input class=toolSizeSlide id=textSizeSlideValue type="range" min=10 max=40 ng-model=textSize />
        </div>
        <hr id=toolSep>
        <div class="toolBotLabel">
            <span>Canvas</span>
        </div>
        <div class=toolBotDiv>
            <button id=clearBtn class=toolBotBtn ng-click=clearCanvas()>Clear</button>
        </div>
        <div class=toolBotDiv>
            <button id=saveBtn class=toolBotBtn ng-click=saveCanvas()>Save</button>
        </div>
        <div class=toolBotDiv>
            <button id=loadBtn class=toolBotBtn ng-click=toggleLoad(showLoad)>Load</button>
        </div>
        <div id=fileInput hidden>
            <button id=fileLabel>Select Image</button>
            <input id=canvFile type="file" />
            <span>OR</span>
            <div id=fileDropBack></div>
            <h4 id=fileDrop>Drop Image Here</h4>
            <div id=fileSubDiv hidden>
                <div id="fileSubInfo">
                    <div id="fileSubName">
                        <h5>Name</h5>
                        <span id=fileName></span>
                    </div>
                    <div id="fileSubSize">
                        <h5>Size</h5>
                        <span id=fileSize></span>
                    </div>
                </div>
                <button id=fileSubBtn ng-click=loadCanvas(filePicked)>Load</button>
            </div>
        </div>
    </div>

</div>
